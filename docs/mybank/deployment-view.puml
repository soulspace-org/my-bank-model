@startuml deployment-view
!include <C4/C4_Deployment.puml>
!include <awslib14/AWSCommon>
!include <awslib14/AWSC4Integration>
!include <azure/AzureCommon>
!include <azure/AzureC4Integration>
!include <tupadr3/common>
!include <azure/Networking/AzureSubnet>
!include <azure/Networking/AzureExpressRoute>
!include <azure/General/Azure>
!include <azure/Management/AzureSubscription>
!include <azure/Networking/AzureVirtualNetworkPeering>
!include <azure/Networking/AzureVirtualNetwork>


LAYOUT_TOP_DOWN()




title Deployment View for the MyBank Systems
Node(mybank_itManagement_azure_mybankTenant, "MyBank Azure Tenant", $descr="Azure Tenant for MyBank", $type="Azure", $sprite="Azure") {
  Node(mybank_itManagement_azure_landingZoneManagementGroup, "Landing Zone Management Group") {
    Node(mybank_itManagement_azure_lz1Subscription, "LZ1 Subscription", $descr="Subscription for the landing zone 1", $type="Azure Subscription", $sprite="AzureSubscription") {
      Node(mybank_itManagement_azure_lz1Vnet1, "VNet 1", $descr="VNet for a spoke infrastructure", $type="Azure Virtual Network", $sprite="AzureVirtualNetwork")
    }
  }
  Node(mybank_itManagement_azure_platformManagementGroup, "Platform Management Group") {
    Node(mybank_itManagement_azure_connectivitySubscription, "Connectivity Subscription", $descr="Subscription for the Connectivity Infrastructure", $type="Azure Subscription", $sprite="AzureSubscription") {
      Node(mybank_itManagement_azure_hubVnet, "Hub VNet", $descr="VNet for the hub infrastructure", $type="Azure Virtual Network", $sprite="AzureVirtualNetwork")
    }
    Node(mybank_itManagement_azure_identitySubscription, "Identity Subscription", $descr="Subscription for the IAM Infrastructure", $type="Azure Subscription", $sprite="AzureSubscription")
    Node(mybank_itManagement_azure_lzKafkaSubscription, "LZ Kafka Subscription", $descr="Subscription for the central Kafka infrastructure", $type="Azure Subscription", $sprite="AzureSubscription") {
      Node(mybank_itManagement_azure_lzKafkaVnet, "LZ Kafka VNet", $descr="VNet for the Kafka infrastructure", $type="Azure Virtual Network", $sprite="AzureVirtualNetwork") {
        Node(mybank_itManagement_azure_lzKafkaSubnet, "Kafka Subnet", $type="Azure Subnet", $sprite="AzureSubnet")
      }
    }
    Node(mybank_itManagement_azure_managementSubscription, "Management Subscription", $descr="Subscription for the Management Infrastructure", $type="Azure Subscription", $sprite="AzureSubscription")
  }
}
Node(mybank_itManagement_onprem_dataCenter, "MyBank On Premise Datacenter", $descr="Data Center of MyBank")
Rel(mybank_itManagement_azure_lz1Vnet1, mybank_itManagement_azure_hubVnet, "peered to", $descr="Provides connectivity for the spoke", $techn="Azure Virtual Network Peering", $sprite="AzureVirtualNetworkPeering,scale=0.5")
Rel(mybank_itManagement_onprem_dataCenter, mybank_itManagement_azure_hubVnet, "network link", $descr="High speed/volume link 100 Mb/s", $techn="Azure Express Route", $sprite="AzureExpressRoute,scale=0.5")
SHOW_LEGEND()
@enduml
